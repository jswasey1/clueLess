
<style type="text/css"> 
    #gameDiv {
              
    }
    #ctx {
        position: relative;
      
    }
    /*****************************************************************************************************************************************
    * Notebook
    *****************************************************************************************************************************************/
    #notebook {
        background:#eddba8;
        height:600px;
        width:350px;
        position:fixed;
        top: 1%;
        left: 810px;
        padding: 0px;
        margin: 0px;
    }
    .notebookTable {
        border: 1px solid #dedede;
        background-color: #fff;	
        margin: auto;
        margin-top: 20%;
   	width: 50%;
    }
    .notebookTable td {
        margin: 0px;
        padding: 0px;
        background-color: #fff;
        border-bottom: 1px dotted #ccc;
        text-indent: 10px;  
    }
    .notebookLeftCol {
    	border-right: 1px dotted #a50303;
    }
    .notebookLabel {
    	width: 130px;
        background-color: #fff;
        font-family: courier, monospace;
        color: black;
        border: none;
        margin-left: 10px;
        text-align: left;
    }
    .notebookCategoryHeader {
        color: black; text-align: center;
        border: 1px solid #dedede;
    }
    .notebookTextField {
    	 border: none;
    	 font-family: "Comic Sans MS", cursive, sans-serif;
    	 font-size: 11px;
    }

    /*****************************************************************************************************************************************
    * Suspect Line Up
    *****************************************************************************************************************************************/
    makeSuggestionDiv{
        width: 710px;
        height: 600px;
        border: 1px solid #000000;
    }
    .lineUpTable {
        border-spacing:0;	
        position:relative;
        top: -8%;
        left: 2%;  
    }
    .lineUpTable td{
        border-bottom: 2px solid black;
        border-top: 2px solid black;
        float: left;
        margin: none; 
        padding: 0 !important; 
    }		
    #s1, #s2, #s3 , #s4, #s5, #s6{
        display: none;
        float: left;
        
    }
    .sLabel img{
        border-spacing:0; 
        height: 150px;
        margin: none; 
        padding: 0 !important; 
        float: left;
        filter: gray;
        filter: grayscale(100%);
        -webkit-filter: grayscale(1);
        -webkit-filter: grayscale(100%);
    }
    #s1:hover + label > img, #s2:hover + label > img,#s3:hover + label > img ,#s4:hover + label > img ,#s5:hover + label > img ,#s6:hover + label > img  {
        filter: none;
        filter: grayscale(0%);  
        -webkit-filter: grayscale(0);
        -webkit-filter: grayscale(0%);
    }
    #s1:checked + label > img, #s2:checked + label > img, #s3:checked + label > img, #s4:checked + label > img, #s5:checked + label > img, #s6:checked + label > img {
        filter: none;
        filter: grayscale(0%);
        -webkit-filter: grayscale(0);
        -webkit-filter: grayscale(0%);	  
    }
    .lineUpTable div {
        display: none;
        position: absolute;
        left: 25%;
        bottom: 0;
        right:15%;
        height: 23px; 
        background: black;
        color: #fff;
        overflow:hidden;
        font-size: 12px;
        font-family:"Courier New", Courier;
        text-align: center;
        padding: 5px;
    }
    .lineUpTable td:hover, td:hover > div {
        display: block;
        padding: none; 
        filter: none;
        filter: grayscale(0%);
        -webkit-filter: grayscale(0);
        -webkit-filter: grayscale(0%);
    }

    /*****************************************************************************************************************************************
    * Suggestion: Weapons
    *****************************************************************************************************************************************/
    .weapons {
        margin:auto;
        margin:0px auto;
        position:relative;
        height:180px;
        width:220px;
        list-style:none;	 
        top: -5%;
        right: 29%;
    }
    .weapons img {
        background:#fff;
        display:inline;
        float:left;
        width:auto;

        -webkit-box-shadow:0px 0px 10px rgba(0,0,0,1);
        -moz-box-shadow:0px 0px 10px rgba(0,0,0,1);
        box-shadow:0px 0px 10px rgba(0,0,0,1);
        -webkit-transition:all .30s;
        -moz-transition:all .30s;
        -o-transition:all .30s;
        transition:all .30s;
        position:absolute;
    }
    .weapons img{display:block; }
    .weapons li:nth-child(1n) img {transform:rotate(30deg)  scale(0.7,0.7); top:0%; left:60%;}               /*Candlestick*/
    .weapons li:nth-child(2n) img {transform:rotate(-30deg) scale(0.7,0.7); top:30%; left:70%;}              /*revolver*/
    .weapons li:nth-child(3n) img {transform:rotate(30deg)  scale(0.7,0.7); top:30%; left:10%;}              /*Knife*/
    .weapons li:nth-child(4n) img {transform:rotate(-30deg) scale(0.7,0.7); top:18%; left:32%;}              /*Lead Pipe*/
    .weapons li:nth-child(5n) img {transform:rotate(-20deg) scale(0.8,0.8); top:50%; left:30%; z-index:3;}   /*Rope*/
    .weapons li:nth-child(6n) img {transform:rotate(30deg)  scale(0.7,0.7); top:70%; left:55%;}              /*wrench*/
    .weapons li:nth-child(7n) img {transform:rotate(10deg)  scale(0.7,0.7); top:0%; left:125%;}              /* */
    
    
    /*****************************************************************************************************************************************
    * ShowCard
    *****************************************************************************************************************************************/

    #showCard1, #showCard2, #showCard3 {
        display: none;
        float: left;
        height:100px;  
    }
    .showCardLabel img {
        border-spacing:0; 
        height: 150px;
        margin: none; 
        padding: 0 !important; 
        float: left;   
    }
    #showCard1:checked + label > img, #showCard2:checked + label > img, #showCard3:checked + label > img {
        border: 2px solid #f9df13;   
    }
    #showCard1:hover + label > img, #showCard2:hover + label > img, #showCard3:hover + label > img {
        border: 2px solid #f9df13;  
    } 
</style>


<!-----HTML-------------------------------------------------------------------------------------------------------------------------------->

<!---Sign In-------------------------------------------------------------------------------------------------------------------------------->
        <div id="signDiv">
           Username: <input id="signDiv-username" type="text"></input><br> 
          <button id="signDiv-signIn">Sign In</button> 
        </div>

<!---Game----------------------------------------------------------------------------------------------------------------------------------->
       <div id="gameDiv" style="display:none;">
    <canvas id="ctx" width="710" height="600" style="border:1px solid #000000;"></canvas>

<!---Suggestion------------------------------------------------------------------------------------------------------------------------------>
          <div class="makeSuggestionDiv" id="makeSuggestionDiv" style="display:none;">
            <div class="suggestion">
                    It was <input type="text" class = "caseTextbox" id="caseSuspect" disabled="" value=""> <br>
                    in the <input type="text" class = "caseTextbox" id="caseRoom" disabled="" value="The library"> <br>
                    with the <input type="text" class = "caseTextbox" id="caseWeapon" disabled="" value=""> <br><br> 
                    <select id="playerDropDown">
                        <option value="1">Ashley</option>
                        <option value="2">Jonathan</option>
                        <option value="3">Jenn</option>
                        <option value="4">Mark</option>
                    </select>
                    <button type="button" onclick="suggest()">Suggest</button>
            </div>
            <div id="weaponDiv" >
                    <ul class="weapons">
                        <li><img id="weapon1" src="/client/img/weapons/weapon_1.png" height="130" onclick="selectWeapon('weapon1'); setSuspectWeapon('Candlestick'); setSuggestion('weapon','weapon1')"/></li>
                        <li><img id="weapon2" src="/client/img/weapons/weapon_2.png" height="130" onclick="selectWeapon('weapon2'); setSuspectWeapon('Knife')      ; setSuggestion('weapon','weapon2')"/></li>
                        <li><img id="weapon3" src="/client/img/weapons/weapon_3.png" height="130" onclick="selectWeapon('weapon3'); setSuspectWeapon('Lead Pipe')  ; setSuggestion('weapon','weapon3')"/></li>
                        <li><img id="weapon4" src="/client/img/weapons/weapon_4.png" height="130" onclick="selectWeapon('weapon4'); setSuspectWeapon('Revolver')   ; setSuggestion('weapon','weapon4')"/></li>
                        <li><img id="weapon5" src="/client/img/weapons/weapon_5.png" height="130" onclick="selectWeapon('weapon5'); setSuspectWeapon('Rope')       ; setSuggestion('weapon','weapon5')"/></li>
                        <li><img id="weapon6" src="/client/img/weapons/weapon_6.png" height="130" onclick="selectWeapon('weapon6'); setSuspectWeapon('Wrench')     ; setSuggestion('weapon','weapon6')"/></li>
                    </ul>  
            </div>
            <div class="lineUp">  	
                <table class="lineUpTable">
                  <tr><th>Suspects</th></tr>
                    <tr>
                        <td><input type="radio" name="suspect" id="s1" onclick="setSuspectName('Colonel Mustard');setSuggestion('suspect','suspect1')"/><label class="sLabel" for="s1"><img src="/client/img/LineUp/Suspect_Lineup_1.png"/></label><div>Colonel Mustard</div></td>
                        <td><input type="radio" name="suspect" id="s2" onclick="setSuspectName('Miss Scarlet')   ;setSuggestion('suspect','suspect2')"/><label class="sLabel" for="s2"><img src="/client/img/LineUp/Suspect_Lineup_2.png"/></label><div>Miss Scarlet</div></td>
                        <td><input type="radio" name="suspect" id="s3" onclick="setSuspectName('Mr. Green')      ;setSuggestion('suspect','suspect3')"/><label class="sLabel" for="s3"><img src="/client/img/LineUp/Suspect_Lineup_3.png"/></label><div>Mr. Green</div></td>
                        <td><input type="radio" name="suspect" id="s4" onclick="setSuspectName('Mrs. Peacock')   ;setSuggestion('suspect','suspect4')"/><label class="sLabel" for="s4"><img src="/client/img/LineUp/Suspect_Lineup_4.png"/></label><div>Mrs. Peacock</div></td>  
                        <td><input type="radio" name="suspect" id="s5" onclick="setSuspectName('Mrs. White')     ;setSuggestion('suspect','suspect5')"/><label class="sLabel" for="s5"><img src="/client/img/LineUp/Suspect_Lineup_5.png"/></label><div>Mrs. White</div></td>
                        <td><input type="radio" name="suspect" id="s6" onclick="setSuspectName('Professor Plum') ;setSuggestion('suspect','suspect6')"/><label class="sLabel" for="s6"><img src="/client/img/LineUp/Suspect_Lineup_6.png"/></label><div>Professor Plum</div></td>
                    </tr>
                </table> 
            </div>
        </div>  

<!---Prove Suggestion T/F---------------------------------------------------------------------------------------------------------------------------->
        <div class="proveSuggestionDiv" id="proveSuggestionDiv" width="710" height="600" style="display:none;">
            <div class="proveSuggestion">
                Player asked you 
                It was <input type="text" class = "caseTextbox" id="ps_suspect" disabled="" value=""> <br>
                in the <input type="text" class = "caseTextbox" id="ps_caseRoom" disabled="" value="The library"> <br>
                with the <input type="text" class = "caseTextbox" id="ps_caseWeapon" disabled="" value=""> <br><br> 
           
            </div>
            
            <div id="showCard">
                <table class="showCardTable">
                    <tr><th colspan="3">Which Card would you like to show?</th></tr>
                    <tr>
                        <td><input type="radio" name="showCardRadio" id="showCard1" onclick="showCard('0')"/><label class="showCardLabel" id="showCardLabel1" for="showCard1" style="display:none;"><img src="" id="showCardImg1"/></td>
                        <td><input type="radio" name="showCardRadio" id="showCard2" onclick="showCard('1')"/><label class="showCardLabel" id="showCardLabel2" for="showCard2" style="display:none;"><img src="" id="showCardImg2"/></td>
                        <td><input type="radio" name="showCardRadio" id="showCard3" onclick="showCard('2')"/><label class="showCardLabel" id="showCardLabel3" for="showCard3" style="display:none;"><img src="" id="showCardImg3"/></td>                        
                    </tr>
                </table> 
            </div>
        </div>
<!---Response - show card- Prove Suggestion T/F---------------------------------------------------------------------------------------------------------------------------->
        <div id="responseSuggestionDiv" width="710" height="600" style="display:none;">
            <div class="responseSuggestion">
                Player has <br>
                <img src="" id="responseSuggestionImg1"/></td>
         
            
             <button type="button" onclick="returnToGameboard()">End Turn</button>
             </div>
        </div>
<!---chat-------------------------------------------------------------------------------------------------------------------------------->
        <div id="chat-text" style="width:500px;height:100px;overflow-y:scroll;display:none;">
            <div>Hello!</div>
                <form id="chat-form">
                    <input id="chat-input" type="text" style="width:500px"></input>
                </form> 
       </div>  


<!---notebook-------------------------------------------------------------------------------------------------------------------------------->
        <div id="notebook">
            <button type="button" onclick="turnSuggestion()">Make A Suggestion</button>  <!---TEMP BUTTON-->
            <table class="notebookTable">
                <tr><td colspan="2"><div class="notebookCategoryHeader">Character</div></td></tr>
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="suspect1Label" disabled="" value="Colonel Mustard"></td><td><input type="text" class="notebookTextField" id="notebook_suspect1"></td></tr>
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="suspect2Label" disabled="" value="Miss Scarlet">   </td><td><input type="text" class="notebookTextField" id="notebook_suspect2"></td></tr>
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="suspect3Label" disabled="" value="Mr. Green">      </td><td><input type="text" class="notebookTextField" id="notebook_suspect3"></td></tr>
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="suspect4Label" disabled="" value="Mrs. Peacock">   </td><td><input type="text" class="notebookTextField" id="notebook_suspect4"></td></tr>	
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="suspect5Label" disabled="" value="Mrs. White">     </td><td><input type="text" class="notebookTextField" id="notebook_suspect5"></td></tr>
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="suspect6Label" disabled="" value="Professor Plum"> </td><td><input type="text" class="notebookTextField" id="notebook_suspect6"></td></tr>
                <tr><td colspan="2"><div class="notebookCategoryHeader">Weapons</div></td></tr>
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="weapon1Label" disabled="" value="Candlestick">     </td><td><input type="text" class="notebookTextField" id="notebook_weapon1"></td></tr>      
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="weapon2Label" disabled="" value="Knife">           </td><td><input type="text" class="notebookTextField" id="notebook_weapon2"></td></tr>
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="weapon3Label" disabled="" value="Lead Pipe">       </td><td><input type="text" class="notebookTextField" id="notebook_weapon3"></td></tr>
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="weapon4Label" disabled="" value="Revolver">        </td><td><input type="text" class="notebookTextField" id="notebook_weapon4"></td></tr>
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="weapon5Label" disabled="" value="Rope">            </td><td><input type="text" class="notebookTextField" id="notebook_weapon5"></td></tr>
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="weapon6Label" disabled="" value="Wrench">          </td><td><input type="text" class="notebookTextField" id="notebook_weapon6"></td></tr>		
                <tr><td colspan="2"><div class="notebookCategoryHeader">Rooms</div></td></tr>
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="room1Label" disabled="" value="Ballroom">          </td><td><input type="text" class="notebookTextField" id="notebook_room1"></td></tr>
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="room2Label" disabled="" value="Billiard Room">     </td><td><input type="text" class="notebookTextField" id="notebook_room2"></td></tr>
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="room3Label" disabled="" value="Conservatory">      </td><td><input type="text" class="notebookTextField" id="notebook_room3"></td></tr>
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="room4Label" disabled="" value="Dining Room">       </td><td><input type="text" class="notebookTextField" id="notebook_room4"></td></tr>	
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="room5Label" disabled="" value="Kitchen">           </td><td><input type="text" class="notebookTextField" id="notebook_room5"></td></tr>
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="room6Label" disabled="" value="Hall">              </td><td><input type="text" class="notebookTextField" id="notebook_room6"></td></tr>	
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="room7Label" disabled="" value="Library">           </td><td><input type="text" class="notebookTextField" id="notebook_room7"></td></tr>
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="room8Label" disabled="" value="Lounge">            </td><td><input type="text" class="notebookTextField" id="notebook_room8"></td></tr>			
                <tr><td class="notebookLeftCol"><input type="text" class="notebookLabel" id="room9Label" disabled="" value="Study">             </td><td><input type="text" class="notebookTextField" id="notebook_room9"></td></tr>	
            </table>
        </div>

    </div>   <!-- End: gameDiv  -->
 

 


<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
<script>
    var WIDTH = 700;
    var HEIGHT = 700;
    var socket = io(); //initalizes 

    //sign
    var signDiv = document.getElementById('signDiv');
    var signDivUsername = document.getElementById('signDiv-username');
    var signDivSignIn = document.getElementById('signDiv-signIn');
   
    signDivSignIn.onclick = function(){
        socket.emit('signIn',{username:signDivUsername.value});
    }
    socket.on('signInResponse',function(data){
        if(data.success){
            signDiv.style.display = 'none';
            gameDiv.style.display = 'inline-block';
        } else
            alert("Sign in unsuccessful.");
    });
 
   //chat
    var chatText = document.getElementById('chat-text');
    var chatInput = document.getElementById('chat-input');
    var chatForm = document.getElementById('chat-form');

    socket.on('addToChat',function(data){
        chatText.innerHTML += '<div>' + data + '</div>';
    });
    socket.on('evalAnswer',function(data){
        console.log(data);
    });

    chatForm.onsubmit = function(e){
        e.preventDefault();
        if(chatInput.value[0] === '/')
            socket.emit('evalServer',chatInput.value.slice(1));
        else
            socket.emit('sendMsgToServer',chatInput.value);
        chatInput.value = '';		
    }

    //game
    var Img = {};

    Img.gameBoard = new Image();
    Img.gameBoard.src = '/client/img/gameBoard.png';
    Img.player1 = new Image();
    Img.player1.src = '/client/img/playerTokens/player1.png';	
    Img.player2 = new Image();
    Img.player2.src = '/client/img/playerTokens/player2.png';	 
    Img.player3 = new Image();
    Img.player3.src = '/client/img/playerTokens/player3.png';	
    Img.player4 = new Image();
    Img.player4.src = '/client/img/playerTokens/player4.png';	
    Img.player5 = new Image();
    Img.player5.src = '/client/img/playerTokens/player5.png';	
    Img.player6 = new Image();
    Img.player6.src = '/client/img/playerTokens/player6.png';		

    var ctx = document.getElementById("ctx").getContext("2d");
    ctx.font = '30px Arial';



    var Player = function(initPack){
        var self = {};
        self.id = initPack.id;
        self.cardsInHand = initPack.cardsInHand;
        self.number = initPack.number;
        self.x = initPack.x;
        self.y = initPack.y;
//window.alert(self.cardsInHand);
    self.draw = function(){
        var x = self.x - Player.list[selfId].x + WIDTH/2;
        var y = self.y - Player.list[selfId].y + HEIGHT/2;

        switch(self.id) {
                case 1: 
                        width = Img.player1.width*2; 
                        height = Img.player1.height*2;
                        ctx.drawImage(Img.player1, 0,0,Img.player1.width,Img.player1.height, x-width/2,y-height/2,width,height);
                        break;
                case 2: 
                        width = Img.player2.width*2; 
                        height = Img.player2.height*2;
                        ctx.drawImage(Img.player2, 0,0,Img.player2.width,Img.player2.height, x-width/2,y-height/2,width,height);
                        break;
                case 3: 
                        width = Img.player3.width*2; 
                        height = Img.player3.height*2;
                        ctx.drawImage(Img.player3, 0,0,Img.player3.width,Img.player3.height, x-width/2,y-height/2,width,height);
                        break;
                case 4: 
                        width = Img.player4.width*2; 
                        height = Img.player4.height*2;
                        ctx.drawImage(Img.player4, 0,0,Img.player4.width,Img.player4.height, x-width/2,y-height/2,width,height);
                        break;
                case 5: 
                        width = Img.player5.width*2; 
                        height = Img.player5.height*2;
                        ctx.drawImage(Img.player5, 0,0,Img.player5.width,Img.player5.height, x-width/2,y-height/2,width,height);
                        break;
                case 6: 
                        width = Img.player6.width*2; 
                        height = Img.player6.height*2;
                        ctx.drawImage(Img.player6, 0,0,Img.player6.width,Img.player6.height, x-width/2,y-height/2,width,height);
                        break;
                default: 
                        width = Img.player6.width*2; 
                        height = Img.player6.height*2;
                        ctx.drawImage(Img.player6, 0,0,Img.player6.width,Img.player6.height, x-width/2,y-height/2,width,height);										
                }
        }

        Player.list[self.id] = self;

        return self;
    }

    Player.list = {};

    /*
        whenever a new player is created it contains all the data - only do once when its created
     */
    var selfId = null;

    socket.on('init',function(data){
        if(data.selfId)
                selfId = data.selfId;

        for(var i = 0 ; i < data.player.length; i++){
                new Player(data.player[i]);
        }
    });

    /*
        send every frame and only contains the difference
     */	
    socket.on('update',function(data){
        for(var i = 0 ; i < data.player.length; i++){
            var pack = data.player[i];
            var p = Player.list[pack.id];
            if(p){
                if(pack.x !== undefined)
                        p.x = pack.x;
                if(pack.y !== undefined)
                        p.y = pack.y;
            }
        }
    });


    /*
        send id when removed
     */
    socket.on('remove',function(data){
        for(var i = 0 ; i < data.player.length; i++)
            delete Player.list[data.player[i]];
    });

    setInterval(function(){
        if(!selfId)
            return;
        ctx.clearRect(0,0,500,500);
        drawGameBoard();
        drawCards();
        for(var i in Player.list)
            Player.list[i].draw();
    },40);

    var drawGameBoard = function(){
        var x = WIDTH/2 - Player.list[selfId].x;
        var y = HEIGHT/2 - Player.list[selfId].y;
        ctx.drawImage(Img.gameBoard,x,y);
    }

    var drawCards = function(){ 
        for(i = 0; i < Player.list[selfId].cardsInHand.length; i++) 
            document.getElementById("notebook_"+Player.list[selfId].cardsInHand[i]).value = "in your hand";
    }   
    
    document.onkeydown = function(event){
        if(event.keyCode === 68)    //d
            socket.emit('keyPress',{inputId:'right',state:true});
        else if(event.keyCode === 83)   //s
            socket.emit('keyPress',{inputId:'down',state:true});
        else if(event.keyCode === 65) //a
            socket.emit('keyPress',{inputId:'left',state:true});
        else if(event.keyCode === 87) // w
            socket.emit('keyPress',{inputId:'up',state:true});
    }
    document.onkeyup = function(event){
        if(event.keyCode === 68)    //d
            socket.emit('keyPress',{inputId:'right',state:false});
        else if(event.keyCode === 83)   //s
            socket.emit('keyPress',{inputId:'down',state:false});
        else if(event.keyCode === 65) //a
            socket.emit('keyPress',{inputId:'left',state:false});
        else if(event.keyCode === 87) // w
            socket.emit('keyPress',{inputId:'up',state:false});
    }
/*************************************************************************************************************************
* Suggestion
************************************************************************************************************************/
    function suggest() { 
	var playerResponding = document.getElementById('playerDropDown').options[document.getElementById('playerDropDown').selectedIndex].value;
	var cardsSubmitted = getSuggestion();

	document.getElementById("makeSuggestionDiv").style.display = "none";
	document.getElementById("ctx").style.display = "block";	
        
        socket.emit('suggest',{playerSuggesting: selfId, playerResponding: playerResponding, cardsSubmitted: cardsSubmitted}); // send suggestion to server
    }
    
    //receive suggestion from server
    var playerSuggesting;
    var cardsSubmitted;
    socket.on('askSuggestion',function(data){
        
       playerSuggesting = data.playerSuggesting;
       cardsSubmitted = data.cardsSubmitted;
       displayProveSuggestion(cardsSubmitted);
       hasCards(data.cardsSubmitted);
       
    });
    

    function displayProveSuggestion(caseCardsSuggested){      
        document.getElementById("ctx").style.display = "none";
	document.getElementById("proveSuggestionDiv").style.display = "block";
   
        for(i =0; i< caseCardsSuggested.length;i++){	
            if(Player.list[selfId].cardsInHand.includes(caseCardsSuggested[i]))
		document.getElementById('showCardLabel'+(i+1)).style.display = "block";
                document.getElementById('showCardImg'+(i+1)).src = '/client/img/cards/'+caseCardsSuggested[i]+'.png'
	}
    } 
       
    function showCard(card){      
        document.getElementById('showCardLabel1').style.display = "none";
        document.getElementById('showCardLabel2').style.display = "none";
        document.getElementById('showCardLabel3').style.display = "none";
     
        document.getElementById('proveSuggestionDiv').style.display = "none";
        document.getElementById("ctx").style.display = "block";
        socket.emit('suggestResponse',{playerSuggesting: playerSuggesting, playerResponding: selfId, cardsSubmitted: cardsSubmitted[card]}); // send suggestion to server
 
    }
    
    socket.on('suggestResponseCard',function(data){
      // playerSuggesting = data.playerSuggesting;
       drawCardShown(data.cardToShow);
      
       
    });
    function drawCardShown(cardToShow){   
       window.alert(cardToShow);
	document.getElementById("ctx").style.display = "none";
	document.getElementById("responseSuggestionDiv").style.display = "block";
        document.getElementById('responseSuggestionImg1').src = '/client/img/cards/'+cardToShow+'.png'
    } 
    
    function returnToGameboard(){
        document.getElementById('responseSuggestionDiv').style.display = "none";
        document.getElementById("ctx").style.display = "block";
    }  
    
    var suspectSuggested, weaponSuggested, roomSuggested;
    function setSuggestion(type,value) {  
	if (type === 'suspect')
		suspectSuggested = value;
	if (type === 'weapon')	
		weaponSuggested = value; 
	if (type === 'room')	
		roomSuggested = value;
    }
    function getSuggestion() {  
            var x = [suspectSuggested, weaponSuggested, roomSuggested];
            return x;
    }   
 
    function turnSuggestion() {
	document.getElementById("ctx").style.display = "none";
	document.getElementById("makeSuggestionDiv").style.display = "block";
    }

    function setSuspectName(name) { 
	document.getElementById('caseSuspect').value = name; 
    }

 
    
    
    
    
    
    //Weapon
    function setSuspectWeapon(weapon) { 
        document.getElementById('caseWeapon').value = weapon; 

    }
    function selectWeapon(id) {
        if (document.getElementById("weapon1").style.zIndex === "7")
                document.getElementById("weapon1").style.zIndex = "1"; 
                document.getElementById("weapon1").style.border = "none";

        if (document.getElementById("weapon2").style.zIndex === "7")
                document.getElementById("weapon2").style.zIndex = "2";
                document.getElementById('weapon2').style.border = "none";

        if (document.getElementById("weapon3").style.zIndex === "7")
                document.getElementById("weapon3").style.zIndex = "3";
                document.getElementById("weapon3").style.border = "none";

        if (document.getElementById("weapon4").style.zIndex === "7")
                document.getElementById("weapon4").style.zIndex = "4";
                document.getElementById("weapon4").style.border = "none";

        if (document.getElementById("weapon5").style.zIndex === "7")
                document.getElementById("weapon5").style.zIndex = "5";
                document.getElementById("weapon5").style.border = "none";

        if (document.getElementById("weapon6").style.zIndex === "7")
                document.getElementById("weapon6").style.zIndex = "6";
                document.getElementById("weapon6").style.border = "none";

     document.getElementById(id).style.zIndex = "7";
     document.getElementById(id).style.border = "3px solid #b21a1a";
    }
</script>